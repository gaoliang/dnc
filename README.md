# socket.io接口定义 初步

鉴于机床和dnc服务器端需要频繁的双向通信，所以采用socket.io的方式来实现数据传输较为方便。

1. client链接dnc的socketio服务， on connect后， `emit('register', device_id)`, 注册机床， device_id应该是每个机床不一样的

```javascript
/**
 * 1) 机床工作模式、启动状态、急停开关状态、报警状态；
 * 2) 绝对坐标、相对坐标、机械坐标、剩余移动量；
 * 3) 主轴和进给轴的速度、倍率；
 * 4) 主轴和进给轴的负载；
 * 5) 实时报警, 类型、编号、内容及报警数量
 * 6) 当前执行程序、当前行、下一行、当前刀号。
 */
```